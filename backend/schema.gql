# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

input AddOAuthPlatformConnectionInput {
  oauthToken: String!
  oauthTokenSecret: String!
  oauthVerifier: String!
  platform: Platform!
}

input AddPlatformConnectionInput {
  entityId: ID!
  entityName: String!
  accessToken: String!
  platform: Platform!
  platformUserId: String!
}

type AggregatedStatus {
  timestamp: DateTime!
  positiveReactionsCount: Int!
  negativeReactionsCount: Int!
  commentsCount: Int!
  sharesCount: Int!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type FacebookPageInstagramAccount {
  id: String!
  username: String!
  profilePicture: String!
}

type File {
  id: ID!
  userId: ID!
  ext: String!
}

type Mutation {
  addPlatformConnection(platformConnection: AddPlatformConnectionInput!): PlatformConnection!
  addOAuthPlatformConnection(platformConnection: AddOAuthPlatformConnectionInput!): PlatformConnection!
  createPost(post: PostInput!): Post!
}

type OAuthTokenResult {
  oauthToken: String!
  oauthTokenSecret: String!
}

enum Platform {
  FACEBOOK
  TWITTER
}

type PlatformConnection {
  id: ID!
  userId: ID!
  platform: Platform!
  accessToken: String!
  accessTokenSecret: String
  entityId: String!
  entityName: String!
}

type Post {
  id: ID!
  text: String!
  userId: ID!
  createdAt: DateTime
  updatedAt: DateTime!
  media: [PostMedia!]!
  platforms: [PostPlatform!]!
  status: [AggregatedStatus!]!
}

input PostInput {
  text: String!
  images: [ID!]!
  platformConnections: [ID!]!
}

type PostMedia {
  postId: ID!
  fileId: ID!
  image: File!
  post: Post!
}

type PostPlatform {
  id: ID!
  postId: ID!
  platformConnectionId: ID!
  platformEntityId: String
  platformEntityUrl: String
  platformConnection: PlatformConnection!
  post: Post!
}

type Query {
  platformConnections: [PlatformConnection!]!
  getPlatformOAuthRequestToken(callbackUrl: String!, platform: Platform!): OAuthTokenResult!
  getAvailableInstagramAccounts: [FacebookPageInstagramAccount!]!
  post(id: ID!): Post!
  posts: [Post!]!
}
